{"ast":null,"code":"import \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport \"core-js/modules/es6.array.find\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"E:\\\\project\\\\react\\\\ssr\\\\create-next-app\\\\create-next-app\\\\pages\\\\index\\\\components\\\\seed-modal-send-goods\\\\index.js\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport dynamic from 'next/dynamic';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport Modal from '../../../../components/modal';\nimport ModalValide from '../seed-modal-print-logistics'; // import minColumns from './config'\n\nvar AgGrid = dynamic(function () {\n  return import('../../../../components/ag-grid');\n}, {\n  ssr: false,\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('../../../../components/ag-grid')];\n    },\n    modules: ['../../../../components/ag-grid']\n  }\n});\nimport './index.less';\nvar minColumns = [{\n  headerName: \"\",\n  colId: \"rowNum\",\n  valueGetter: function valueGetter(params) {\n    var num = '' + (params.node.rowIndex + 1);\n    return num.length < 2 ? '0' + num : num;\n  },\n  width: 45,\n  filter: false,\n  lockPosition: true,\n  lockPinned: true,\n  pinned: 'left'\n}, {\n  width: 50,\n  filter: false,\n  headerCheckboxSelection: true,\n  headerCheckboxSelectionFilteredOnly: true,\n  checkboxSelection: true,\n  lockPosition: true,\n  lockPinned: true,\n  pinned: 'left'\n}];\nvar columnList = [{\n  headerName: '格子号',\n  field: 'noPickNumber'\n}, {\n  headerName: '发货单号',\n  field: 'deliveryOrderWaveState',\n  cellRendererFramework: function cellRendererFramework(params) {\n    return React.createElement(\"p\", {\n      style: {\n        color: '#0265FF'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, params.value);\n  }\n}, {\n  headerName: '物流单打印',\n  field: 'expressId',\n  cellRendererFramework: function cellRendererFramework(params) {\n    if (params.value) {\n      return React.createElement(Icon, {\n        type: \"check\",\n        style: {\n          color: '#2BD3A8'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      });\n    }\n  }\n}, {\n  headerName: '已播/需播',\n  field: 'deliveryOrderWaveType'\n}, {\n  headerName: '异常信息',\n  filter: true,\n  field: 'expressId',\n  cellRendererFramework: function cellRendererFramework(params) {\n    return React.createElement(\"p\", {\n      style: {\n        color: '#EB8E76'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, params.value);\n  }\n}, {\n  headerName: '买家留言',\n  field: 'expressId',\n  filter: true\n}, {\n  headerName: '卖家备注',\n  field: 'expressId',\n  filter: true\n}, {\n  headerName: '物流公司',\n  field: 'expressId',\n  filter: true\n}, {\n  headerName: '操作',\n  field: 'handle',\n  width: 65\n}];\n\nfor (var _i = 0, _columnList = columnList; _i < _columnList.length; _i++) {\n  var item = _columnList[_i];\n  minColumns.push({\n    headerName: item['headerName'],\n    field: item['field'],\n    filter: item.filter,\n    cellRenderer: item['cellRenderer'],\n    cellRendererFramework: item['cellRendererFramework'],\n    width: item.width || 100\n  });\n}\n\nvar ModalSendGoods =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ModalSendGoods, _Component);\n\n  function ModalSendGoods(props) {\n    var _this;\n\n    _classCallCheck(this, ModalSendGoods);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ModalSendGoods).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"onPrintInvoice\", function (bool) {\n      _this.setState({\n        visibleModalValide: bool\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getColumn\", function () {\n      var that = _assertThisInitialized(_this);\n\n      var Col = minColumns.find(function (item) {\n        return item.field === 'handle';\n      });\n\n      Col.cellRendererFramework = function (params) {\n        return React.createElement(\"p\", {\n          style: {\n            color: '#2F80FF'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119\n          },\n          __self: this\n        }, \"\\u79FB\\u51FA\");\n      };\n\n      return minColumns;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"componentWillUnmount\", function () {\n      _this.setState = function (state, callback) {\n        return;\n      };\n    });\n\n    _this.state = {};\n    _this.modal = React.createRef();\n    return _this;\n  }\n\n  _createClass(ModalSendGoods, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios.get('http://127.0.0.1:9090/tc/delivery/delivery_wave/data/list', {\n        pageNo: 1,\n        lastName: 50,\n        headers: {\n          Cookie: '_ati=2589300460228; ERPLanguage=zh; JSESSIONID=2376B922B3A11CD447E2EE8E09D900A8-n2'\n        }\n      }).then(function (res) {\n        _this2.setState({\n          seedGoodsData: res.data\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$state = this.state,\n          visibleModalValide = _this$state.visibleModalValide,\n          visibleModalReStart = _this$state.visibleModalReStart,\n          seed = _this$state.seed,\n          seedGoodsData = _this$state.seedGoodsData;\n      return React.createElement(Modal, {\n        width: 1016,\n        title: \"\\u53D1\\u8D27\\u5355\\u5217\\u8868\",\n        maskClosable: false,\n        wrapClassName: \"modal-send-goods modal-content-grid\",\n        visible: visibleModalReStart,\n        onCancel: function onCancel() {\n          return _this3.props.onCloseSendGoods();\n        },\n        ref: this.modal,\n        footer: [React.createElement(_Button, {\n          key: \"goods\",\n          onClick: function onClick() {\n            return _this3.onPrintInvoice(true);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151\n          },\n          __self: this\n        }, \"\\u6253\\u5370\\u53D1\\u8D27\\u5355\"), React.createElement(_Button, {\n          key: \"server\",\n          type: \"primary\",\n          onClick: this.logistics,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152\n          },\n          __self: this\n        }, \"\\u6253\\u5370\\u7269\\u6D41\\u5355\")],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"goods-ag-grid-wrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(AgGrid, {\n        rowData: seedGoodsData ? seedGoodsData.rows : [],\n        columnDefs: this.getColumn(),\n        pagination: {\n          pageSize: 10,\n          page: 1,\n          total: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      })), React.createElement(ModalValide, {\n        visible: visibleModalValide,\n        onCancel: function onCancel() {\n          return _this3.onPrintInvoice(false);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props) {\n      return {\n        seed: props.seed,\n        visibleModalReStart: props.visible\n      };\n    }\n  }]);\n\n  return ModalSendGoods;\n}(Component);\n\nexport default ModalSendGoods;","map":{"version":3,"sources":["E:/project/react/ssr/create-next-app/create-next-app/pages/index/components/seed-modal-send-goods/index.js"],"names":["React","Component","dynamic","axios","connect","Modal","ModalValide","AgGrid","ssr","minColumns","headerName","colId","valueGetter","params","num","node","rowIndex","length","width","filter","lockPosition","lockPinned","pinned","headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","checkboxSelection","columnList","field","cellRendererFramework","color","value","item","push","cellRenderer","ModalSendGoods","props","bool","setState","visibleModalValide","that","Col","find","state","callback","modal","createRef","get","pageNo","lastName","headers","Cookie","then","res","seedGoodsData","data","visibleModalReStart","seed","onCloseSendGoods","onPrintInvoice","logistics","rows","getColumn","pageSize","page","total","visible"],"mappings":";;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,OAAP,MAAoB,cAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AAEA,OAAOC,KAAP,MAAkB,8BAAlB;AACA,OAAOC,WAAP,MAAwB,+BAAxB,C,CACA;;AACA,IAAMC,MAAM,GAAIL,OAAO;AAAA,SAAC,OAAO,gCAAP,CAAD;AAAA,GAA2C;AAC9DM,EAAAA,GAAG,EAAE,KADyD;AAAA;AAAA;AAAA,kCAAnC,gCAAmC;AAAA;AAAA,cAAnC,gCAAmC;AAAA;AAAA,CAA3C,CAAvB;AAGA,OAAO,cAAP;AAEA,IAAMC,UAAU,GAAG,CAAC;AAChBC,EAAAA,UAAU,EAAE,EADI;AAEhBC,EAAAA,KAAK,EAAE,QAFS;AAGhBC,EAAAA,WAAW,EAAE,qBAAUC,MAAV,EAAkB;AAC3B,QAAIC,GAAG,GAAG,MAAMD,MAAM,CAACE,IAAP,CAAYC,QAAZ,GAAuB,CAA7B,CAAV;AACA,WAAOF,GAAG,CAACG,MAAJ,GAAa,CAAb,GAAiB,MAAMH,GAAvB,GAA6BA,GAApC;AACH,GANe;AAOhBI,EAAAA,KAAK,EAAE,EAPS;AAQhBC,EAAAA,MAAM,EAAE,KARQ;AAShBC,EAAAA,YAAY,EAAE,IATE;AAUhBC,EAAAA,UAAU,EAAE,IAVI;AAWhBC,EAAAA,MAAM,EAAE;AAXQ,CAAD,EAYhB;AACCJ,EAAAA,KAAK,EAAE,EADR;AAECC,EAAAA,MAAM,EAAE,KAFT;AAGCI,EAAAA,uBAAuB,EAAE,IAH1B;AAICC,EAAAA,mCAAmC,EAAE,IAJtC;AAKCC,EAAAA,iBAAiB,EAAE,IALpB;AAMCL,EAAAA,YAAY,EAAE,IANf;AAOCC,EAAAA,UAAU,EAAE,IAPb;AAQCC,EAAAA,MAAM,EAAE;AART,CAZgB,CAAnB;AAuBA,IAAMI,UAAU,GAAG,CAAC;AAChBhB,EAAAA,UAAU,EAAE,KADI;AAEhBiB,EAAAA,KAAK,EAAE;AAFS,CAAD,EAGhB;AACCjB,EAAAA,UAAU,EAAE,MADb;AAECiB,EAAAA,KAAK,EAAE,wBAFR;AAGCC,EAAAA,qBAAqB,EAAE,+BAAAf,MAAM,EAAI;AAC7B,WAAO;AAAG,MAAA,KAAK,EAAE;AAACgB,QAAAA,KAAK,EAAE;AAAR,OAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA+BhB,MAAM,CAACiB,KAAtC,CAAP;AACH;AALF,CAHgB,EAShB;AACCpB,EAAAA,UAAU,EAAE,OADb;AAECiB,EAAAA,KAAK,EAAE,WAFR;AAGCC,EAAAA,qBAAqB,EAAE,+BAAAf,MAAM,EAAI;AAC7B,QAAIA,MAAM,CAACiB,KAAX,EAAkB;AACd,aAAO,oBAAC,IAAD;AAAM,QAAA,IAAI,EAAG,OAAb;AACP,QAAA,KAAK,EACD;AACID,UAAAA,KAAK,EAAE;AADX,SAFG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AAOH;AACJ;AAbF,CATgB,EAuBhB;AACCnB,EAAAA,UAAU,EAAE,OADb;AAECiB,EAAAA,KAAK,EAAE;AAFR,CAvBgB,EA0BhB;AACCjB,EAAAA,UAAU,EAAE,MADb;AAECS,EAAAA,MAAM,EAAE,IAFT;AAGCQ,EAAAA,KAAK,EAAE,WAHR;AAICC,EAAAA,qBAAqB,EAAE,+BAAAf,MAAM,EAAI;AAC7B,WAAO;AAAG,MAAA,KAAK,EAAE;AAACgB,QAAAA,KAAK,EAAE;AAAR,OAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA+BhB,MAAM,CAACiB,KAAtC,CAAP;AACH;AANF,CA1BgB,EAiChB;AACCpB,EAAAA,UAAU,EAAE,MADb;AAECiB,EAAAA,KAAK,EAAE,WAFR;AAGCR,EAAAA,MAAM,EAAE;AAHT,CAjCgB,EAqChB;AACCT,EAAAA,UAAU,EAAE,MADb;AAECiB,EAAAA,KAAK,EAAE,WAFR;AAGCR,EAAAA,MAAM,EAAE;AAHT,CArCgB,EAyChB;AACCT,EAAAA,UAAU,EAAE,MADb;AAECiB,EAAAA,KAAK,EAAE,WAFR;AAGCR,EAAAA,MAAM,EAAE;AAHT,CAzCgB,EA6ChB;AACCT,EAAAA,UAAU,EAAE,IADb;AAECiB,EAAAA,KAAK,EAAE,QAFR;AAGCT,EAAAA,KAAK,EAAE;AAHR,CA7CgB,CAAnB;;AAmDA,+BAAiBQ,UAAjB,iCAA6B;AAAxB,MAAIK,IAAI,kBAAR;AACDtB,EAAAA,UAAU,CAACuB,IAAX,CAAgB;AACZtB,IAAAA,UAAU,EAAEqB,IAAI,CAAC,YAAD,CADJ;AAEZJ,IAAAA,KAAK,EAAEI,IAAI,CAAC,OAAD,CAFC;AAGZZ,IAAAA,MAAM,EAAEY,IAAI,CAACZ,MAHD;AAIZc,IAAAA,YAAY,EAAEF,IAAI,CAAC,cAAD,CAJN;AAKZH,IAAAA,qBAAqB,EAAEG,IAAI,CAAC,uBAAD,CALf;AAMZb,IAAAA,KAAK,EAAEa,IAAI,CAACb,KAAL,IAAc;AANT,GAAhB;AAQH;;IAEKgB,c;;;;;AACF,0BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,wFAAMA,KAAN;;AADe,qEAWF,UAACC,IAAD,EAAU;AACvB,YAAKC,QAAL,CAAc;AAAEC,QAAAA,kBAAkB,EAAEF;AAAtB,OAAd;AACH,KAbkB;;AAAA,gEAcP,YAAM;AACd,UAAIG,IAAI,gCAAR;;AACA,UAAIC,GAAG,GAAG/B,UAAU,CAACgC,IAAX,CAAgB,UAAAV,IAAI;AAAA,eAAIA,IAAI,CAACJ,KAAL,KAAe,QAAnB;AAAA,OAApB,CAAV;;AACAa,MAAAA,GAAG,CAACZ,qBAAJ,GAA4B,UAAAf,MAAM,EAAI;AAClC,eACG;AAAG,UAAA,KAAK,EAAE;AAACgB,YAAAA,KAAK,EAAE;AAAR,WAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADH;AAGH,OAJD;;AAKA,aAAOpB,UAAP;AACH,KAvBkB;;AAAA,2EAkCI,YAAM;AACzB,YAAK4B,QAAL,GAAgB,UAACK,KAAD,EAAOC,QAAP,EAAkB;AAC9B;AACD,OAFH;AAGH,KAtCkB;;AAEf,UAAKD,KAAL,GAAa,EAAb;AACA,UAAKE,KAAL,GAAa5C,KAAK,CAAC6C,SAAN,EAAb;AAHe;AAIlB;;;;wCAoBmB;AAAA;;AAChB1C,MAAAA,KAAK,CAAC2C,GAAN,CAAU,2DAAV,EAAuE;AACnEC,QAAAA,MAAM,EAAE,CAD2D;AAEnEC,QAAAA,QAAQ,EAAE,EAFyD;AAGnEC,QAAAA,OAAO,EAAE;AACLC,UAAAA,MAAM,EAAE;AADH;AAH0D,OAAvE,EAKGC,IALH,CAKQ,UAAAC,GAAG,EAAI;AACX,QAAA,MAAI,CAACf,QAAL,CAAc;AAAEgB,UAAAA,aAAa,EAAED,GAAG,CAACE;AAArB,SAAd;AACH,OAPD;AAQH;;;6BAMQ;AAAA;;AAAA,wBACoE,KAAKZ,KADzE;AAAA,UACGJ,kBADH,eACGA,kBADH;AAAA,UACuBiB,mBADvB,eACuBA,mBADvB;AAAA,UAC4CC,IAD5C,eAC4CA,IAD5C;AAAA,UACkDH,aADlD,eACkDA,aADlD;AAEL,aACI,oBAAC,KAAD;AACI,QAAA,KAAK,EAAE,IADX;AAEI,QAAA,KAAK,EAAC,gCAFV;AAGI,QAAA,YAAY,EAAE,KAHlB;AAII,QAAA,aAAa,EAAC,qCAJlB;AAKI,QAAA,OAAO,EAAEE,mBALb;AAMI,QAAA,QAAQ,EAAE;AAAA,iBAAM,MAAI,CAACpB,KAAL,CAAWsB,gBAAX,EAAN;AAAA,SANd;AAOI,QAAA,GAAG,EAAE,KAAKb,KAPd;AAQI,QAAA,MAAM,EAAE,CACJ;AAAQ,UAAA,GAAG,EAAC,OAAZ;AAAoB,UAAA,OAAO,EAAE;AAAA,mBAAM,MAAI,CAACc,cAAL,CAAoB,IAApB,CAAN;AAAA,WAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CADI,EAEJ;AAAQ,UAAA,GAAG,EAAC,QAAZ;AAAqB,UAAA,IAAI,EAAC,SAA1B;AAAoC,UAAA,OAAO,EAAE,KAAKC,SAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CAFI,CARZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAaI;AAAK,QAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,MAAD;AACI,QAAA,OAAO,EAAEN,aAAa,GAAGA,aAAa,CAACO,IAAjB,GAAwB,EADlD;AAEI,QAAA,UAAU,EAAE,KAAKC,SAAL,EAFhB;AAGI,QAAA,UAAU,EAAE;AAACC,UAAAA,QAAQ,EAAC,EAAV;AAAcC,UAAAA,IAAI,EAAC,CAAnB;AAAsBC,UAAAA,KAAK,EAAE;AAA7B,SAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CAbJ,EAoBI,oBAAC,WAAD;AAAa,QAAA,OAAO,EAAE1B,kBAAtB;AAA0C,QAAA,QAAQ,EAAE;AAAA,iBAAM,MAAI,CAACoB,cAAL,CAAoB,KAApB,CAAN;AAAA,SAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QApBJ,CADJ;AAwBH;;;6CA5D+BvB,K,EAAO;AACnC,aAAO;AACHqB,QAAAA,IAAI,EAAErB,KAAK,CAACqB,IADT;AAEHD,QAAAA,mBAAmB,EAAEpB,KAAK,CAAC8B;AAFxB,OAAP;AAIH;;;;EAXwBhE,S;;AAqE7B,eAAeiC,cAAf","sourcesContent":["import React, { Component } from 'react'\r\nimport dynamic from 'next/dynamic'\r\nimport axios from 'axios'\r\nimport { connect } from 'react-redux'\r\nimport { Button } from 'antd'\r\nimport Modal from '../../../../components/modal'\r\nimport ModalValide from '../seed-modal-print-logistics'\r\n// import minColumns from './config'\r\nconst AgGrid =  dynamic(import('../../../../components/ag-grid'), {\r\n    ssr: false\r\n})\r\nimport './index.less'\r\n\r\nconst minColumns = [{\r\n    headerName: \"\",\r\n    colId: \"rowNum\",\r\n    valueGetter: function (params) {\r\n        let num = '' + (params.node.rowIndex + 1)\r\n        return num.length < 2 ? '0' + num : num;\r\n    },\r\n    width: 45,\r\n    filter: false,\r\n    lockPosition: true,\r\n    lockPinned: true,\r\n    pinned: 'left'\r\n}, {  \r\n    width: 50,\r\n    filter: false,\r\n    headerCheckboxSelection: true,\r\n    headerCheckboxSelectionFilteredOnly: true,\r\n    checkboxSelection: true,\r\n    lockPosition: true,\r\n    lockPinned: true,\r\n    pinned: 'left'\r\n}]\r\n\r\nconst columnList = [{\r\n    headerName: '格子号',\r\n    field: 'noPickNumber',\r\n}, {\r\n    headerName: '发货单号',\r\n    field: 'deliveryOrderWaveState',\r\n    cellRendererFramework: params => {\r\n        return <p style={{color: '#0265FF'}}>{params.value}</p>\r\n    },\r\n}, {\r\n    headerName: '物流单打印',\r\n    field: 'expressId',\r\n    cellRendererFramework: params => {\r\n        if (params.value) {\r\n            return <Icon type = \"check\"\r\n            style = {\r\n                {\r\n                    color: '#2BD3A8'\r\n                }\r\n            }\r\n            />\r\n        }\r\n    }\r\n}, {\r\n    headerName: '已播/需播',\r\n    field: 'deliveryOrderWaveType',\r\n}, {\r\n    headerName: '异常信息',\r\n    filter: true,\r\n    field: 'expressId',\r\n    cellRendererFramework: params => {\r\n        return <p style={{color: '#EB8E76'}}>{params.value}</p>\r\n    }\r\n}, {\r\n    headerName: '买家留言',\r\n    field: 'expressId',\r\n    filter: true,\r\n}, {\r\n    headerName: '卖家备注',\r\n    field: 'expressId',\r\n    filter: true,\r\n}, {\r\n    headerName: '物流公司',\r\n    field: 'expressId', \r\n    filter: true,\r\n}, {\r\n    headerName: '操作',\r\n    field: 'handle',\r\n    width: 65,\r\n}]\r\n\r\nfor (let item of columnList) {\r\n    minColumns.push({\r\n        headerName: item['headerName'],\r\n        field: item['field'],\r\n        filter: item.filter,\r\n        cellRenderer: item['cellRenderer'],\r\n        cellRendererFramework: item['cellRendererFramework'],\r\n        width: item.width || 100\r\n    })\r\n}\r\n\r\nclass ModalSendGoods extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {}\r\n        this.modal = React.createRef()\r\n    }\r\n    static getDerivedStateFromProps(props) {\r\n        return {\r\n            seed: props.seed,\r\n            visibleModalReStart: props.visible\r\n        }\r\n    }\r\n    onPrintInvoice = (bool) => {\r\n        this.setState({ visibleModalValide: bool })\r\n    }\r\n    getColumn = () => {\r\n        let that = this\r\n        let Col = minColumns.find(item => item.field === 'handle')\r\n        Col.cellRendererFramework = params => {\r\n            return (\r\n               <p style={{color: '#2F80FF'}}>移出</p>\r\n            )\r\n        }\r\n        return minColumns\r\n    }\r\n    componentDidMount() {\r\n        axios.get('http://127.0.0.1:9090/tc/delivery/delivery_wave/data/list', {\r\n            pageNo: 1,\r\n            lastName: 50,\r\n            headers: { \r\n                Cookie: '_ati=2589300460228; ERPLanguage=zh; JSESSIONID=2376B922B3A11CD447E2EE8E09D900A8-n2'}\r\n        }).then(res => {\r\n            this.setState({ seedGoodsData: res.data })\r\n        })\r\n    }\r\n    componentWillUnmount = () => {\r\n        this.setState = (state,callback)=>{\r\n            return;\r\n          };\r\n    }\r\n    render() {\r\n        const { visibleModalValide, visibleModalReStart, seed, seedGoodsData } = this.state\r\n        return (\r\n            <Modal\r\n                width={1016}\r\n                title=\"发货单列表\"\r\n                maskClosable={false}\r\n                wrapClassName=\"modal-send-goods modal-content-grid\"\r\n                visible={visibleModalReStart}\r\n                onCancel={() => this.props.onCloseSendGoods()}\r\n                ref={this.modal}\r\n                footer={[\r\n                    <Button key=\"goods\" onClick={() => this.onPrintInvoice(true)}>打印发货单</Button>,\r\n                    <Button key=\"server\" type=\"primary\" onClick={this.logistics}>打印物流单</Button>\r\n                ]}\r\n            >\r\n                <div className=\"goods-ag-grid-wrap\">\r\n                    <AgGrid\r\n                        rowData={seedGoodsData ? seedGoodsData.rows : []}\r\n                        columnDefs={this.getColumn()}\r\n                        pagination={{pageSize:10, page:1, total: 10}}\r\n                    />\r\n                </div>\r\n                <ModalValide visible={visibleModalValide} onCancel={() => this.onPrintInvoice(false)} />\r\n            </Modal>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ModalSendGoods\r\n\r\n"]},"metadata":{},"sourceType":"module"}