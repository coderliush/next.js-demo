{"ast":null,"code":"import \"antd/lib/popover/style\";\nimport _Popover from \"antd/lib/popover\";\nimport \"core-js/modules/es6.array.find\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"E:\\\\project\\\\react\\\\ssr\\\\create-next-app\\\\create-next-app\\\\pages\\\\index\\\\components\\\\seed-grid\\\\index.js\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport dynamic from 'next/dynamic';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport './index.less';\nvar AgGrid = dynamic(function () {\n  return import('../../../../components/ag-grid');\n}, {\n  ssr: false,\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('../../../../components/ag-grid')];\n    },\n    modules: ['../../../../components/ag-grid']\n  }\n});\nvar minColumns = [];\nvar columnList = [{\n  headerName: '格子号',\n  field: 'noPickNumber',\n  filter: false\n}, {\n  headerName: '已播/需播',\n  field: 'deliveryOrderWaveState',\n  filter: false\n}, {\n  headerName: '商品图片',\n  field: 'expressId',\n  filter: false\n}, {\n  width: 230,\n  headerName: '商品名称',\n  field: 'deliveryOrderWaveType',\n  filter: true\n}, {\n  headerName: '商品条码',\n  field: 'expressId',\n  filter: false\n}];\n\nfor (var _i = 0, _columnList = columnList; _i < _columnList.length; _i++) {\n  var item = _columnList[_i];\n  minColumns.push({\n    headerName: item['headerName'],\n    field: item['field'],\n    filter: item.filter,\n    cellRenderer: item['cellRenderer'],\n    cellRendererFramework: item['cellRendererFramework'],\n    width: item.width || 136\n  });\n} // @connect(\n//     (seed) => (seed),\n//     dispatch => ({\n//         queryHomeGrid: payload => dispatch({ type: 'seed/queryHomeGrid', payload }),\n//     })\n// )\n\n\nvar SeedGrid =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SeedGrid, _Component);\n\n  function SeedGrid(props) {\n    var _this;\n\n    _classCallCheck(this, SeedGrid);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SeedGrid).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"getColumn\", function () {\n      var Col = minColumns.find(function (item) {\n        return item.field === 'expressId';\n      });\n\n      Col.cellRendererFramework = function (params) {\n        return React.createElement(_Popover, {\n          overlayClassName: \"seed-img-popover\",\n          mouseEnterDelay: 0.3,\n          placement: \"right\",\n          content: React.createElement(\"img\", {\n            width: \"240\",\n            height: \"240\",\n            src: \"https://ss0.baidu.com/73t1bjeh1BF3odCf/it/u=3261990965,2215517573&fm=85&s=99C5874A68A077240B0E466C0300E07C\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 71\n            },\n            __self: this\n          }),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          width: \"32\",\n          height: \"32\",\n          src: \"https://ss0.baidu.com/73t1bjeh1BF3odCf/it/u=3261990965,2215517573&fm=85&s=99C5874A68A077240B0E466C0300E07C\",\n          style: {\n            cursor: 'pointer'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        }));\n      };\n\n      return minColumns;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"componentWillUnmount\", function () {\n      _this.setState = function (state, callback) {\n        return;\n      };\n    });\n\n    _this.state = {};\n    return _this;\n  }\n\n  _createClass(SeedGrid, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      // this.props.queryHomeGrid({ pageNo: 1, pageSize: 50 })\n      axios.get('http://127.0.0.1:9090/tc/delivery/delivery_wave/data/list', {\n        pageNo: 1,\n        lastName: 50,\n        headers: {\n          Cookie: '_ati=2589300460228; ERPLanguage=zh; JSESSIONID=2376B922B3A11CD447E2EE8E09D900A8-n2'\n        }\n      }).then(function (res) {\n        _this2.setState({\n          homeGridData: res.data\n        });\n      }); // setTimeout(() => {\n      //     this.setState({\n      //         homeGridData: \n      //     })\n      // }, 10);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var homeGridData = this.state.homeGridData;\n      console.log('homeGridData', homeGridData);\n      return React.createElement(\"div\", {\n        className: \"seed-ag-grid-wrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(AgGrid, {\n        rowData: homeGridData ? homeGridData.rows : [],\n        columnDefs: this.getColumn(),\n        pagination: {\n          pageSize: 10,\n          page: 1,\n          total: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props) {\n      return {\n        seed: props.seed\n      };\n    }\n  }]);\n\n  return SeedGrid;\n}(Component);\n\nexport default SeedGrid;","map":{"version":3,"sources":["E:/project/react/ssr/create-next-app/create-next-app/pages/index/components/seed-grid/index.js"],"names":["React","Component","dynamic","connect","axios","AgGrid","ssr","minColumns","columnList","headerName","field","filter","width","item","push","cellRenderer","cellRendererFramework","SeedGrid","props","Col","find","params","cursor","setState","state","callback","get","pageNo","lastName","headers","Cookie","then","res","homeGridData","data","console","log","rows","getColumn","pageSize","page","total","seed"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport dynamic from 'next/dynamic'\r\nimport { connect } from 'react-redux'\r\nimport { Popover, Icon } from 'antd'\r\nimport axios from 'axios'\r\n\r\nimport './index.less'\r\nconst AgGrid =  dynamic(import('../../../../components/ag-grid'), {\r\n    ssr: false\r\n})\r\n\r\nconst minColumns = []\r\n\r\nconst columnList = [{\r\n    headerName: '格子号',\r\n    field: 'noPickNumber',\r\n    filter: false,\r\n},\r\n{\r\n    headerName: '已播/需播',\r\n    field: 'deliveryOrderWaveState',\r\n    filter: false,\r\n},\r\n{\r\n    headerName: '商品图片',\r\n    field: 'expressId',\r\n    filter: false,\r\n},\r\n{\r\n    width: 230,\r\n    headerName: '商品名称',\r\n    field: 'deliveryOrderWaveType',\r\n    filter: true,\r\n}, {\r\n    headerName: '商品条码',\r\n    field: 'expressId',\r\n    filter: false,\r\n}]\r\n\r\nfor (let item of columnList) {\r\n    minColumns.push({\r\n        headerName: item['headerName'],\r\n        field: item['field'],\r\n        filter: item.filter,\r\n        cellRenderer: item['cellRenderer'],\r\n        cellRendererFramework: item['cellRendererFramework'],\r\n        width: item.width || 136\r\n    })\r\n}\r\n// @connect(\r\n//     (seed) => (seed),\r\n//     dispatch => ({\r\n//         queryHomeGrid: payload => dispatch({ type: 'seed/queryHomeGrid', payload }),\r\n//     })\r\n// )\r\nclass SeedGrid extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {}\r\n    }\r\n\r\n    static getDerivedStateFromProps(props) {\r\n        return {\r\n            seed: props.seed\r\n        }\r\n    }\r\n    getColumn = () => {\r\n        let Col = minColumns.find(item => item.field === 'expressId')\r\n        Col.cellRendererFramework = params => {\r\n            return (\r\n                <Popover overlayClassName=\"seed-img-popover\" mouseEnterDelay={0.3} placement=\"right\" content={<img width=\"240\" height=\"240\" src=\"https://ss0.baidu.com/73t1bjeh1BF3odCf/it/u=3261990965,2215517573&fm=85&s=99C5874A68A077240B0E466C0300E07C\" />}>\r\n                    <img width=\"32\" height=\"32\" src=\"https://ss0.baidu.com/73t1bjeh1BF3odCf/it/u=3261990965,2215517573&fm=85&s=99C5874A68A077240B0E466C0300E07C\" style={{ cursor: 'pointer' }} />\r\n                </Popover>\r\n            )\r\n        }\r\n        return minColumns\r\n    }\r\n    componentDidMount() {\r\n        // this.props.queryHomeGrid({ pageNo: 1, pageSize: 50 })\r\n        axios.get('http://127.0.0.1:9090/tc/delivery/delivery_wave/data/list', {\r\n            pageNo: 1,\r\n            lastName: 50,\r\n            headers: { \r\n                Cookie: '_ati=2589300460228; ERPLanguage=zh; JSESSIONID=2376B922B3A11CD447E2EE8E09D900A8-n2'}\r\n        }).then(res => {\r\n            this.setState({ homeGridData: res.data })\r\n        })\r\n\r\n        // setTimeout(() => {\r\n        //     this.setState({\r\n        //         homeGridData: \r\n        //     })\r\n        // }, 10);\r\n    }\r\n\r\n    componentWillUnmount = () => {\r\n        this.setState = (state,callback)=>{\r\n            return;\r\n          };\r\n    }\r\n    render() {\r\n        const { homeGridData } = this.state\r\n        console.log('homeGridData', homeGridData)\r\n        return (\r\n            <div className=\"seed-ag-grid-wrap\">\r\n                <AgGrid\r\n                    rowData={homeGridData ? homeGridData.rows : []}\r\n                    columnDefs={this.getColumn()}\r\n                    pagination={{pageSize:10, page:1, total: 10}}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default SeedGrid"]},"metadata":{},"sourceType":"module"}