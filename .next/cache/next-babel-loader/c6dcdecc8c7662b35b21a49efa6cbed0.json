{"ast":null,"code":"import \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/popover/style\";\nimport _Popover from \"antd/lib/popover\";\nimport \"core-js/modules/es6.array.find\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport \"antd/lib/table/style\";\nimport _Table from \"antd/lib/table\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport \"antd/lib/icon/style\";\nimport _Icon from \"antd/lib/icon\";\nvar _jsxFileName = \"E:\\\\project\\\\react\\\\ssr\\\\create-next-app\\\\create-next-app\\\\pages\\\\index\\\\components\\\\seed-modal-abnormal\\\\index.js\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport dynamic from 'next/dynamic';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport Modal from '../../../../components/modal'; // import minColumns from './config'\n\nvar AgGrid = dynamic(function () {\n  return import('../../../../components/ag-grid');\n}, {\n  ssr: false,\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('../../../../components/ag-grid')];\n    },\n    modules: ['../../../../components/ag-grid']\n  }\n});\nimport './index.less';\nvar dataSource = [{\n  key: 'a',\n  name: '胡彦斌',\n  age: 32,\n  address: '西湖区湖底公园1号'\n}, {\n  key: 'b',\n  name: '胡彦祖',\n  age: 42,\n  address: '西湖区湖底公园1号'\n}, {\n  key: 'c',\n  name: '胡彦祖',\n  age: 42,\n  address: '西湖区湖底公园1号'\n}];\nvar columns = [{\n  title: '商品名称',\n  dataIndex: 'name',\n  key: 'name'\n}, {\n  title: '商品规则名称',\n  dataIndex: 'age',\n  key: 'age'\n}, {\n  title: '商品条码',\n  dataIndex: 'address',\n  key: 'addressa'\n}, {\n  title: '商品图片',\n  dataIndex: 'address',\n  key: 'addressb'\n}, {\n  title: '需播数量',\n  dataIndex: 'address',\n  key: 'addressc'\n}, {\n  title: '已播数量',\n  dataIndex: 'address',\n  key: 'addressd'\n}];\nvar minColumns = [{\n  headerName: \"\",\n  colId: \"rowNum\",\n  valueGetter: function valueGetter(params) {\n    var num = '' + (params.node.rowIndex + 1);\n    return num.length < 2 ? '0' + num : num;\n  },\n  width: 45,\n  filter: false\n}];\nvar columnList = [{\n  headerName: '格子号',\n  field: 'noPickNumber',\n  filter: false\n}, {\n  headerName: '发货单号',\n  field: 'deliveryOrderWaveState',\n  filter: false,\n  cellRendererFramework: function cellRendererFramework(params) {\n    return React.createElement(\"p\", {\n      style: {\n        color: '#0265FF'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, params.value);\n  }\n}, {\n  headerName: '物流单打印',\n  field: 'expressId',\n  filter: false,\n  cellRendererFramework: function cellRendererFramework(params) {\n    if (params.value) {\n      return React.createElement(_Icon, {\n        type: \"check\",\n        style: {\n          color: '#2BD3A8'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      });\n    }\n  }\n}, {\n  headerName: '已播/需播',\n  field: 'deliveryOrderWaveType',\n  filter: false\n}, {\n  headerName: '异常信息',\n  field: 'expressId',\n  filter: true,\n  cellRendererFramework: function cellRendererFramework(params) {\n    return React.createElement(\"p\", {\n      style: {\n        color: '#EB8E76'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, params.value);\n  }\n}, {\n  headerName: '买家留言',\n  field: 'expressId',\n  filter: true\n}, {\n  headerName: '卖家备注',\n  field: 'expressId',\n  filter: true\n}, {\n  headerName: '物流公司',\n  field: 'expressId',\n  filter: true\n}, {\n  headerName: '操作',\n  field: 'handle',\n  width: 70,\n  filter: false\n}];\n\nfor (var _i = 0, _columnList = columnList; _i < _columnList.length; _i++) {\n  var item = _columnList[_i];\n  minColumns.push({\n    headerName: item['headerName'],\n    field: item['field'],\n    filter: item.filter,\n    cellRenderer: item['cellRenderer'],\n    cellRendererFramework: item['cellRendererFramework'],\n    width: item.width || 105\n  });\n}\n\nvar Detail =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Detail, _Component);\n\n  function Detail() {\n    _classCallCheck(this, Detail);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Detail).apply(this, arguments));\n  }\n\n  _createClass(Detail, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(_Table, {\n        className: \"abnormal-detail-column\",\n        rowClassName: \"abnormal-detail-row\",\n        dataSource: dataSource,\n        columns: columns,\n        pagination: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return Detail;\n}(Component); // @connect(\n//     (seed) => (seed),\n//     dispatch => ({\n//         querySeedGoods: payload => dispatch({ type: 'seed/querySeedGoods', payload }),\n//     })\n// )\n\n\nvar ModalAbnormal =\n/*#__PURE__*/\nfunction (_Component2) {\n  _inherits(ModalAbnormal, _Component2);\n\n  function ModalAbnormal(props) {\n    var _this;\n\n    _classCallCheck(this, ModalAbnormal);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ModalAbnormal).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"getColumn\", function () {\n      var handle = minColumns.find(function (item) {\n        return item.field === 'handle';\n      });\n      var popover = minColumns.find(function (item) {\n        return item.field === 'deliveryOrderWaveType';\n      });\n\n      handle.cellRendererFramework = function (params) {\n        return React.createElement(\"p\", {\n          style: {\n            color: '#2F80FF'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 165\n          },\n          __self: this\n        }, \"\\u79FB\\u9664\");\n      };\n\n      popover.cellRendererFramework = function (params) {\n        return React.createElement(_Popover, {\n          overlayClassName: \"abnormal-popover\",\n          trigger: \"click\",\n          content: React.createElement(Detail, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 170\n            },\n            __self: this\n          }),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          style: {\n            color: '#2F80FF'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 171\n          },\n          __self: this\n        }, \"123\"));\n      };\n\n      return minColumns;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"componentWillUnmount\", function () {\n      _this.setState = function (state, callback) {\n        return;\n      };\n    });\n\n    _this.state = {};\n    _this.modal = React.createRef();\n    return _this;\n  }\n\n  _createClass(ModalAbnormal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios.get('http://127.0.0.1:9090/tc/delivery/delivery_wave/data/list', {\n        pageNo: 1,\n        lastName: 50,\n        headers: {\n          Cookie: '_ati=2589300460228; ERPLanguage=zh; JSESSIONID=2376B922B3A11CD447E2EE8E09D900A8-n2'\n        }\n      }).then(function (res) {\n        _this2.setState({\n          seedGoodsData: res.data\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$state = this.state,\n          seed = _this$state.seed,\n          visibleModalAbnormal = _this$state.visibleModalAbnormal,\n          seedGoodsData = _this$state.seedGoodsData;\n      return React.createElement(Modal, {\n        width: 1016,\n        title: \"\\u5F02\\u5E38\\u5355\\u636E\",\n        maskClosable: false,\n        wrapClassName: \"modal-send-goods modal-content-grid\",\n        visible: visibleModalAbnormal,\n        onCancel: function onCancel() {\n          return _this3.props.onCloseAbnormal();\n        },\n        ref: this.modal,\n        footer: [React.createElement(_Button, {\n          key: \"end\",\n          type: \"primary\",\n          onClick: function onClick() {\n            return _this3.onPrintInvoice(true);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 205\n          },\n          __self: this\n        }, \"\\u7ED3\\u675F\\u6CE2\\u6B21\"), React.createElement(_Button, {\n          key: \"close\",\n          onClick: function onClick() {\n            return _this3.props.onCloseAbnormal();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 206\n          },\n          __self: this\n        }, \"\\u5173\\u95ED\")],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"goods-ag-grid-wrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, React.createElement(AgGrid, {\n        rowData: seedGoodsData ? seedGoodsData.rows : [],\n        columnDefs: this.getColumn(),\n        pagination: {\n          pageSize: 10,\n          page: 1,\n          total: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      })));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props) {\n      return {\n        seed: props.seed,\n        visibleModalAbnormal: props.visible\n      };\n    }\n  }]);\n\n  return ModalAbnormal;\n}(Component);\n\nexport default ModalAbnormal;","map":{"version":3,"sources":["E:/project/react/ssr/create-next-app/create-next-app/pages/index/components/seed-modal-abnormal/index.js"],"names":["React","Component","dynamic","axios","connect","Modal","AgGrid","ssr","dataSource","key","name","age","address","columns","title","dataIndex","minColumns","headerName","colId","valueGetter","params","num","node","rowIndex","length","width","filter","columnList","field","cellRendererFramework","color","value","item","push","cellRenderer","Detail","ModalAbnormal","props","handle","find","popover","setState","state","callback","modal","createRef","get","pageNo","lastName","headers","Cookie","then","res","seedGoodsData","data","seed","visibleModalAbnormal","onCloseAbnormal","onPrintInvoice","rows","getColumn","pageSize","page","total","visible"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport dynamic from 'next/dynamic'\r\nimport axios from 'axios'\r\nimport { connect } from 'react-redux'\r\nimport { Button, Popover, Table, Icon } from 'antd'\r\nimport Modal from '../../../../components/modal'\r\n// import minColumns from './config'\r\nconst AgGrid = dynamic(import('../../../../components/ag-grid'), {\r\n    ssr: false\r\n})\r\nimport './index.less'\r\n\r\nconst dataSource = [{\r\n    key: 'a',\r\n    name: '胡彦斌',\r\n    age: 32,\r\n    address: '西湖区湖底公园1号',\r\n}, {\r\n    key: 'b',\r\n    name: '胡彦祖',\r\n    age: 42,\r\n    address: '西湖区湖底公园1号',\r\n}, {\r\n    key: 'c',\r\n    name: '胡彦祖',\r\n    age: 42,\r\n    address: '西湖区湖底公园1号',\r\n}]\r\n\r\nconst columns = [{\r\n    title: '商品名称',\r\n    dataIndex: 'name',\r\n    key: 'name',\r\n}, {\r\n    title: '商品规则名称',\r\n    dataIndex: 'age',\r\n    key: 'age',\r\n}, {\r\n    title: '商品条码',\r\n    dataIndex: 'address',\r\n    key: 'addressa',\r\n}, {\r\n    title: '商品图片',\r\n    dataIndex: 'address',\r\n    key: 'addressb',\r\n}, {\r\n    title: '需播数量',\r\n    dataIndex: 'address',\r\n    key: 'addressc',\r\n}, {\r\n    title: '已播数量',\r\n    dataIndex: 'address',\r\n    key: 'addressd',\r\n}\r\n]\r\n\r\nconst minColumns = [{\r\n    headerName: \"\",\r\n    colId: \"rowNum\",\r\n    valueGetter: function (params) {\r\n        let num = '' + (params.node.rowIndex + 1)\r\n        return num.length < 2 ? '0' + num : num;\r\n    },\r\n    width: 45,\r\n    filter: false,\r\n}]\r\n\r\nconst columnList = [{\r\n    headerName: '格子号',\r\n    field: 'noPickNumber',\r\n    filter: false,\r\n}, {\r\n    headerName: '发货单号',\r\n    field: 'deliveryOrderWaveState',\r\n    filter: false,\r\n    cellRendererFramework: params => {\r\n        return <p style={{color: '#0265FF'}}>{params.value}</p>\r\n    }\r\n}, {\r\n    headerName: '物流单打印',\r\n    field: 'expressId',\r\n    filter: false,\r\n    cellRendererFramework: params => {\r\n        if (params.value) {\r\n            return <Icon type = \"check\"\r\n            style = {\r\n                {\r\n                    color: '#2BD3A8'\r\n                }\r\n            }\r\n            />\r\n        }\r\n    }\r\n}, {\r\n    headerName: '已播/需播',\r\n    field: 'deliveryOrderWaveType',\r\n    filter: false,\r\n}, {\r\n    headerName: '异常信息',\r\n    field: 'expressId',\r\n    filter: true,\r\n    cellRendererFramework: params => {\r\n        return <p style={{color: '#EB8E76'}}>{params.value}</p>\r\n    }\r\n}, {\r\n    headerName: '买家留言',\r\n    field: 'expressId',\r\n    filter: true,\r\n}, {\r\n    headerName: '卖家备注',\r\n    field: 'expressId',\r\n    filter: true,\r\n}, {\r\n    headerName: '物流公司',\r\n    field: 'expressId', \r\n    filter: true,\r\n}, {\r\n    headerName: '操作',\r\n    field: 'handle',\r\n    width: 70,\r\n    filter: false,\r\n}]\r\n\r\nfor (let item of columnList) {\r\n    minColumns.push({\r\n        headerName: item['headerName'],\r\n        field: item['field'],\r\n        filter: item.filter,\r\n        cellRenderer: item['cellRenderer'],\r\n        cellRendererFramework: item['cellRendererFramework'],\r\n        width: item.width || 105\r\n    })\r\n}\r\n\r\nclass Detail extends Component {\r\n    render() {\r\n        return <Table className=\"abnormal-detail-column\" rowClassName=\"abnormal-detail-row\" dataSource={dataSource} columns={columns} pagination={false} />\r\n    }\r\n}\r\n\r\n// @connect(\r\n//     (seed) => (seed),\r\n//     dispatch => ({\r\n//         querySeedGoods: payload => dispatch({ type: 'seed/querySeedGoods', payload }),\r\n//     })\r\n// )\r\n\r\nclass ModalAbnormal extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {}\r\n        this.modal = React.createRef()\r\n    }\r\n    static getDerivedStateFromProps(props) {\r\n        return {\r\n            seed: props.seed,\r\n            visibleModalAbnormal: props.visible\r\n        }\r\n    }\r\n    getColumn = () => {\r\n        let handle = minColumns.find(item => item.field === 'handle')\r\n        let popover = minColumns.find(item => item.field === 'deliveryOrderWaveType')\r\n        handle.cellRendererFramework = params => {\r\n            return (\r\n                <p style={{ color: '#2F80FF' }}>移除</p>\r\n            )\r\n        }\r\n        popover.cellRendererFramework = params => {\r\n            return (\r\n                <Popover overlayClassName=\"abnormal-popover\" trigger=\"click\" content={<Detail />}>\r\n                    <p style={{ color: '#2F80FF' }}>123</p>\r\n                </Popover>\r\n            )\r\n        }\r\n        return minColumns\r\n    }\r\n    componentDidMount() {\r\n        axios.get('http://127.0.0.1:9090/tc/delivery/delivery_wave/data/list', {\r\n            pageNo: 1,\r\n            lastName: 50,\r\n            headers: {\r\n                Cookie: '_ati=2589300460228; ERPLanguage=zh; JSESSIONID=2376B922B3A11CD447E2EE8E09D900A8-n2'\r\n            }\r\n        }).then(res => {\r\n            this.setState({ seedGoodsData: res.data })\r\n        })\r\n    }\r\n    componentWillUnmount = () => {\r\n        this.setState = (state, callback) => {\r\n            return;\r\n        };\r\n    }\r\n    render() {\r\n        const { seed, visibleModalAbnormal, seedGoodsData } = this.state\r\n        return (\r\n            <Modal\r\n                width={1016}\r\n                title=\"异常单据\"\r\n                maskClosable={false}\r\n                wrapClassName=\"modal-send-goods modal-content-grid\"\r\n                visible={visibleModalAbnormal}\r\n                onCancel={() => this.props.onCloseAbnormal()}\r\n                ref={this.modal}\r\n                footer={[\r\n                    <Button key=\"end\" type=\"primary\" onClick={() => this.onPrintInvoice(true)}>结束波次</Button>,\r\n                    <Button key=\"close\" onClick={() => this.props.onCloseAbnormal()}>关闭</Button>\r\n                ]}\r\n            >\r\n                <div className=\"goods-ag-grid-wrap\">\r\n                    <AgGrid\r\n                        rowData={seedGoodsData ? seedGoodsData.rows : []}\r\n                        columnDefs={this.getColumn()}\r\n                        pagination={{ pageSize: 10, page: 1, total: 10 }}\r\n                    />\r\n                </div>\r\n            </Modal>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ModalAbnormal\r\n\r\n"]},"metadata":{},"sourceType":"module"}